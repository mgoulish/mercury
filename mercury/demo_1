##########################################################
# This is a demo file 1. 
# A 3-linear network.
##########################################################

# The paths info has to come first or nothing will work.
inc paths

verbose on
echo    on
prompt  on
# The prompt command is what makes it wait after every command.


linear 3
run


#
#
##########################################################
# At this point, if you have Ernie's console installed,
# you can start it up and look at localhost:5673, 
# and use it to watch what you are doing.
##########################################################
#
#

#----------------------------------------
# Now let's make a couple clients.
#----------------------------------------
#
recv C
send A
run


#----------------------------------------
# You have to say 'run' every time you add 
# a new router or client.
#----------------------------------------



#
#------------------------------------------------------
# You can get a listing of commands by typing 'help'.
#------------------------------------------------------
help


#
#------------------------------------------------------
# And get detailed help for a specific command, i.e.
# 'send' by typing 'help send'.
#------------------------------------------------------
help send


#
#------------------------------------------------------
# OK, hold my beer and watch this.
# ( You really want the console for this. )
# At this point you should still have messages flowing 
# from A to C.  Let's make another linear network...
# And make a connection to our current network.
# (Or it won't show up, since the console is connected 
# to router A...)
# 
# In the console, go to the topology tab to see a 
# moving picture of the network that we are running.
#
#------------------------------------------------------
linear 4
connect E B
run

#
#------------------------------------------------------
# Now let's add a sender and receiver on this network
# and give them both a new non-default address.
#------------------------------------------------------
send D address foo
recv G address foo
run

#
#------------------------------------------------------
# Now in the console you should be able to see two 
# separate streams of messages traveling.
#------------------------------------------------------

#
#-------------------------------------------------
# Please send suggestions & requests & comments to 
# mick@redhat.com
#-------------------------------------------------



prompt off
echo off
